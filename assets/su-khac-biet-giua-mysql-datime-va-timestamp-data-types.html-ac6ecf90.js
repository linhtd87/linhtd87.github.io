import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as e,c as i,a as n,b as p,d as o,f as c}from"./app-0b92410d.js";const l="/assets/images/su-khac-biet-giua-mysql-datime-va-timestamp-data-types-01.jfif",d="/assets/images/su-khac-biet-giua-mysql-datime-va-timestamp-data-types-02.jfif",r="/assets/images/su-khac-biet-giua-mysql-datime-va-timestamp-data-types-03.jfif",u="/assets/images/su-khac-biet-giua-mysql-datime-va-timestamp-data-types-04.jfif",h={},k=c(`<h1 id="su-khac-biet-giua-mysql-datetime-va-timestamp-datatypes" tabindex="-1"><a class="header-anchor" href="#su-khac-biet-giua-mysql-datetime-va-timestamp-datatypes" aria-hidden="true">#</a> Sự khác biệt giữa MySQL DATETIME và TIMESTAMP DataTypes</h1><h2 id="gioi-thieu" tabindex="-1"><a class="header-anchor" href="#gioi-thieu" aria-hidden="true">#</a> Giới thiệu</h2><p>Một câu hỏi đơn giản có thể xuất hiện trong đầu một người khi làm việc với MySQL là &quot;Nên gán kiểu dữ liệu DATETIME hay TIMESTAMP cho một cột vì cả hai dường như đều lưu trữ cùng một dữ liệu?&quot;. Mặc dù chúng lưu trữ cùng một dữ liệu, nhưng chúng khác nhau theo một số cách; Hãy kiểm tra những điều đó với sự giúp đỡ của một ví dụ nhỏ.</p><h2 id="điem-tuong-đong-giua-datetime-va-timestamp" tabindex="-1"><a class="header-anchor" href="#điem-tuong-đong-giua-datetime-va-timestamp" aria-hidden="true">#</a> Điểm tương đồng giữa DATETIME và TIMESTAMP</h2><ol><li>Cả hai đều lưu trữ dữ liệu ở định dạng &quot;YYYY-MM-DD HH:MM: SS&quot;.</li><li>Cả hai đều bao gồm một ngày cũng như một phần thời gian.</li><li>Khởi tạo tự động có thể xảy ra cho cả hai.</li><li>Cả hai đều thay đổi dữ liệu trong khi cập nhật bản ghi với thời gian ngày hiện tại theo ràng buộc.</li><li>Cả hai đều có thể có các phần giây phân đoạn với độ chính xác lên đến 6 chữ số micro giây.</li></ol><h2 id="su-khac-biet-giua-datetime-va-timestamp" tabindex="-1"><a class="header-anchor" href="#su-khac-biet-giua-datetime-va-timestamp" aria-hidden="true">#</a> Sự khác biệt giữa DATETIME và TIMESTAMP</h2><table><thead><tr><th></th><th>DATETIME</th><th>TIMESTAMP</th></tr></thead><tbody><tr><td>1</td><td>Phạm vi được hỗ trợ cho DATETIME là &#39;1000-01-01 00:00:00&#39; đến &#39;9999-12-31 23:59:59&#39;</td><td>trong khi đối với TIMESTAMP, nó là &#39;1970-01-01 00:00:01&#39; UTC đến &#39;2038-01-09 03:14:07&#39; UTC</td></tr><tr><td>2</td><td>Trước MySQL 5.6.4, DATETIME yêu cầu 8 byte (+3 byte cho giây phân số)</td><td>trong khi TIMESTAMP yêu cầu 4 byte (+3 byte cho giây phân số) để lưu trữ dữ liệu</td></tr><tr><td>3</td><td>Trước MySQL 5.6.4, DATETIME yêu cầu 8 byte (+3 byte cho giây phân số)</td><td>trong khi TIMESTAMP yêu cầu 4 byte (+3 byte cho giây phân số) để lưu trữ dữ liệu</td></tr><tr><td>4</td><td>Trước MySQL5+, DATETIME không thực hiện bất kỳ chuyển đổi nào</td><td>trong khi giá trị TIMESTAMP chuyển đổi từ thời gian hiện tại sang UTC và ngược lại</td></tr><tr><td>5</td><td>DATETIME giống với cài đặt múi giờ hiện tại</td><td>trong khi TIMESTAMP khác với cài đặt múi giờ hiện tại</td></tr><tr><td>6</td><td>DATETIME không thể được lập chỉ mục</td><td>trong khi TIMESTAMP có thể được lập chỉ mục</td></tr><tr><td>7</td><td>Các truy vấn có DATETIME sẽ không được lưu vào bộ nhớ đệm</td><td>nhưng các truy vấn có TIMESTAMP sẽ được lưu vào bộ nhớ đệm</td></tr></tbody></table><h2 id="vi-du" tabindex="-1"><a class="header-anchor" href="#vi-du" aria-hidden="true">#</a> Ví dụ</h2><p>(NGÀY GIỜ)<br> Múi giờ hệ thống của tôi là IST, vì vậy theo mặc định, MySQL sử dụng múi giờ IST.</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>employee<span class="token punctuation">\`</span></span>
<span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">\`</span>entry_time<span class="token punctuation">\`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span>
    <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span>
    <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span> <span class="token operator">=</span> latin1<span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>employee<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>entry_time<span class="token punctuation">\`</span></span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">\`</span>employee<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output</strong><br><img src="`+l+'" alt="Output" loading="lazy"></p><p>Bây giờ, hãy thay đổi múi giờ hệ thống từ IST sang EST, tức là UTC - 05:00 trong những tháng lạnh của Giờ tiết kiệm ánh sáng ban ngày.</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- Set the session time zone to &#39;-05:00&#39;</span>\n<span class="token keyword">SET</span> @<span class="token variable">@session.time_zone</span> <span class="token operator">=</span> <span class="token string">&#39;-05:00&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">-- Insert a new record into the `employee` table with the current timestamp in the `entry_time` column</span>\n<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>entry_time<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">-- Retrieve all records from the `employee` table and display the contents</span>\n<span class="token keyword">SELECT</span> <span class="token operator">*</span>\n<span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output</strong><br><img src="'+d+`" alt="Output" loading="lazy"></p><h2 id="vi-du-1" tabindex="-1"><a class="header-anchor" href="#vi-du-1" aria-hidden="true">#</a> Ví dụ</h2><p>(DẤU THỜI GIAN)<br> Kết quả là như nhau mặc dù chúng tôi đã thay đổi múi giờ.</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>employee<span class="token punctuation">\`</span></span>
<span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">\`</span>entry_time<span class="token punctuation">\`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span>
    <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span>
    <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span> <span class="token operator">=</span> latin1<span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>employee<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>entry_time<span class="token punctuation">\`</span></span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">\`</span>employee<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output</strong><br><img src="`+r+`" alt="Output" loading="lazy"></p><p>Bây giờ, hãy thay đổi múi giờ hệ thống từ IST sang EST, tức là UTC - 05:00 trong những tháng lạnh của Giờ tiết kiệm ánh sáng ban ngày.</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SET @@session.time_zone = &#39;-05:00&#39;;
SELECT *
FROM \`employee\`;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Output</strong><br><img src="`+u+'" alt="Output" loading="lazy"></p><h2 id="ket-thuc" tabindex="-1"><a class="header-anchor" href="#ket-thuc" aria-hidden="true">#</a> Kết thúc</h2><p>Kết quả trên có thể thay đổi theo múi giờ đã đặt, tức là EST, là -5 giờ so với giờ UTC.</p><p>Mặc dù cả hai kiểu dữ liệu trông giống nhau, nhưng chúng khác với những gì chúng ta có thể nghĩ đến. Hy vọng mẹo nhỏ này sẽ giúp ai đó theo một cách nào đó để phân biệt 2 loại dữ liệu khó hiểu này. Vui lòng chia sẻ phản hồi của bạn nếu bạn thấy mẹo này hữu ích cho mình.</p><h2 id="tham-khao" tabindex="-1"><a class="header-anchor" href="#tham-khao" aria-hidden="true">#</a> Tham khảo</h2>',25),m={href:"https://dev.mysql.com/doc/refman/5.7/en/datetime.html",target:"_blank",rel:"noopener noreferrer"};function g(y,v){const a=t("ExternalLinkIcon");return e(),i("div",null,[k,n("p",null,[n("a",m,[p("https://dev.mysql.com/doc/refman/5.7/en/datetime.html"),o(a)])])])}const E=s(h,[["render",g],["__file","su-khac-biet-giua-mysql-datime-va-timestamp-data-types.html.vue"]]);export{E as default};
